<div id="reviews">
{% if not is_user_product_review %}
 <div class="my-3">
   <h1 class="text-red-800 text-xl font-bold"> Add Your Review</h1>
   <div class="rating">
     <input type="radio" name="rating-4" class="mask mask-star-2 bg-teal-500" checked/>
     <input type="radio" name="rating-4" class="mask mask-star-2 bg-teal-500" />
     <input type="radio" name="rating-4" class="mask mask-star-2 bg-teal-500" />
     <input type="radio" name="rating-4" class="mask mask-star-2 bg-teal-500" />
     <input type="radio" name="rating-4" class="mask mask-star-2 bg-teal-500" />
   </div>

   <textarea class="textarea textarea-primary my-5 w-full" placeholder="Enter your game review"
     {% comment %} onChange={(e) => setComment(e.currentTarget.value)} {% endcomment %}
   ></textarea>
   <button class="btn btn-info"
     {% comment %} isDisabled={!Boolean(rating && comment)} {% endcomment %}
     {% comment %} onClick={() => handleReview()} {% endcomment %}
   >Send</button>
   <button class="btn invisible">
     <span class="loading loading-spinner"></span>
     loading
   </button>
 </div>
 {% endif %}

 <div>
   {% if product_reviews|length > 0 %}
     <h1 class="text-red-800 text-xl font-bold">
       {{product_reviews|length}}
       {% if product_reviews|length > 1 %}
       Reviews
       {% else %}
       Review
       {% endif %} 
       ({{product_average_rating}})
     </h1>
   {% endif %} 
   {% for review in product_reviews %}
     <div class="{% if user.username == review.customer_name %}transition ease-in-out delay-300 bg-red-700 hover:bg-red-600 {% else %} transition ease-in-out delay-300 bg-slate-700 hover:bg-slate-600 {% endif %}
     bg-opacity-40 hover:bg-opacity-45 rounded-xl p-4 my-5 space-y-2">
       <div class="flex flex-row space-x-3">
         <div class="avatar">
           <div class="w-8 rounded-full ring ring-amber-500 ring-offset-red-600 ring-offset-2">
             <img src="{{gateway_base_url}}/{{ review.customer_image }}" />
           </div>
         </div>
         
         <p class="text-amber-500 text-lg font-semibold">
           {{review.customer_name}}
           {% if user.username == review.customer_name %}
            (me)
           {% endif %}
         </p>
       </div>
       <div class="flex flex-row space-x-3">            
         <div class="flex items-center">
           {% for i in "12345" %}
             <svg 
               class="w-4 h-4 text-yellow-300 ms-1 {% if i|add:0 > review.rating %}text-gray-300 dark:text-gray-500{% endif %}" 
               aria-hidden="true" 
               xmlns="http://www.w3.org/2000/svg" 
               fill="currentColor" 
               viewBox="0 0 22 20"
             >
               <path d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"/>
             </svg>
           {% endfor %}
         </div>
         
         <p class="text-slate-600 text-md font-medium">
           {{ review.created_at|date:"d/m/Y" }}
         </p>
       </div>
       <p class="text-warning">{{review.comment}}</p>
     </div>
   {% endfor %}
 </div>
</div>